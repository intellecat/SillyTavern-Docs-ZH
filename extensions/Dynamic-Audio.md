---
route: /extensions/dynamic-audio/
---

# 动态音频

本指南将引导您为 SillyTavern 体验设置和自定义动态音频资源。

## 前提条件

开始之前,请确保满足以下前提条件:

- 确保您使用的是最新版本的 SillyTavern。
- 从扩展面板(堆叠方块图标)的"下载扩展和资源"菜单中安装"动态音频"扩展。

## 动态音频设置(浏览器)

1. **连接到资源仓库**:
   - 启动 SillyTavern 并导航到**扩展** > **资源**。
   - 点击"连接"按钮以建立与官方资源仓库的连接。
   - 下载所需的音频资源,例如背景音乐(BGM)或环境音效,这些资源应与您打算使用的背景相对应。

2. **启用动态音频扩展**:
   - 在 SillyTavern 中,转到**扩展** > **动态音频**。
   - 启用该扩展,取消静音并根据您的偏好调整 BGM 和环境音效的音量。
   - 当 bgm 结束时,将随机播放另一首,点击循环按钮可以持续播放当前 bgm
   - 点击随机按钮可以随机选择另一首 bgm

3. **基于表情的 BGM**:
   - 如果您希望 bgm 跟随角色表情,请启用表情 BGM 开关(需要在角色文件夹中有 bgm,请参见下文)。
   - 调整 BGM 更新之间的冷却计时器(以秒为单位)。如果您发现在群聊或使用带有情感检测的角色专属 BGM 时 BGM 更改过于频繁,请增加此值。

## 为角色导入音乐

要为角色的情绪设置自定义音乐,请按照以下步骤操作:

1. **导航到角色文件夹**:
   - 转到角色文件夹,例如 `\SillyTavern\data\<user-handle>\characters\Seraphina`。

2. **创建 BGM 文件夹**:
   - 在角色文件夹内,创建一个名为 `bgm` 的子文件夹。

3. **导入情绪音乐**:
   - 在 `bgm` 文件夹中,导入每种情绪的音乐文件。支持的音频扩展名包括 `.mp3`、`.ogg` 和 `.wav`。
   - 命名约定:`[emotion]_[number].mp3`,例如 `anger_0.mp3`、`joy_0.mp3`。

4. **为情绪添加多个曲目**:
   - 您可以通过递增数字为同一情绪导入多个曲目,例如 `neutral_1.mp3`、`neutral_2.mp3`。

5. **默认音乐选择**:
   - 当未检测到情绪时,将播放随机的中性曲目作为默认值。情绪检测与更新精灵类似;有关详细信息,请参阅[表情图片文档](/extensions/Expression-Images.md)。

## 更改默认 BGM 音乐

如果角色的文件夹中没有自定义 BGM,将播放默认曲目。以下是如何更改它:

1. **导航到 BGM 文件夹**:
   - 转到以下文件夹:`\SillyTavern\data\<user-handle>\assets\bgm`。

2. **替换/添加音乐**:
   - 替换或添加音乐文件(`.mp3`、`.ogg`、`.wav`)到此文件夹。
   - 这些是使用资源扩展下载的官方音频资源。
   - 当找不到角色专属 BGM 时(单人或群聊),将随机播放其中一首曲目。

## 更改环境音效

环境音效为您的场景增添深度。以下是如何自定义它们:

1. **导航到环境文件夹**:
   - 转到以下文件夹:`\SillyTavern\data\<user-handle>\assets\ambient`。

2. **文件命名约定**:
   - 环境音频文件名与背景图片文件名相对应,将空格替换为破折号。
   - 例如:`"bedroom-clean.mp3"` 对应于 "bedroom clean.jpg" 背景。
   - 如果锁定按钮未锁定,将播放与背景对应的音频文件。激活锁定将保持当前环境音效播放。

3. **自定义环境音效**:
   - 您可以通过遵循相同的命名模式为自定义或现有背景添加自己的环境音效。

感谢您遵循本指南!您的 SillyTavern 体验现在已通过动态音频得到丰富。
